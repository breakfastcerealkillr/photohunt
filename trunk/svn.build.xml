<project name="svn" default="svn.sensor">
  <description>
  Provides an Ant task to extract Commit data from a Subversion server, then send this data off to
    Hackystat.

  Note: You typically invoke this with:
    ant -Dsvn.default.userkey=[userkey] -Dsvn.default.smptserver=[smtpserver] -f svn.build.xml
  </description>

  <import file="build.xml"/>
  <property name="svn.default.smtpserver" value="mail.hawaii.edu"/>
  <property name="svn.default.fromemailaddress" value="gelee@hawaii.edu"/>
  <property name="svn.default.toemailaddress" value="gelee@hawaii.edu"/>

  <target name="svn.sensor" description="Extracts Commit data from Subversion and sends it to the Hackystat server" >
    <!-- Define the svn extractor taskdef, failing the build if the sensor is not installed. -->
    <available classname="org.hackystat.sensor.svn.SvnSensorAntTask" property="svn.sensor.available"/>
    <fail unless="svn.sensor.available" message="Error: Subversion sensor not installed."/>
    <taskdef name="hacky-svn" classname="org.hackystat.sensor.svn.SvnSensorAntTask" />

    <hacky-svn 
      repositoryName="GoogleCode" 
      repositoryUrl="http://photohunt.googlecode.com/svn/trunk"
      fileNamePrefix="/Users/George/Documents/eclipse-workspaces/eclipse-main/photohunt/"
      verbose="true"
      fromDate="2007-1-26"
      toDate="2007-2-7"
      fromEmail="${svn.default.fromemailaddress}" 
      toEmail="${svn.default.toemailaddress}" 
      smtpServer="${svn.default.smtpserver}"
    />
  </target>

  <!--
      defaultHackystatAccountKey="${svn.default.userkey}"
      debug="true"      
  -->

</project>
